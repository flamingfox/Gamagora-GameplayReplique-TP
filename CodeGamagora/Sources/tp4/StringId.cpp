//**********************************************************************************************************************
#include "StringId.h"

extern unsigned long crc32OfString(const char *string_in);

//**********************************************************************************************************************
namespace uu //univubi
{

//**********************************************************************************************************************
StringId::StringId():
	_id(0)
{
}

//**********************************************************************************************************************
StringId::StringId(const char* content):
	_id(0)
{
	_SetContent(content);
}

//**********************************************************************************************************************
StringId::StringId(StringId const& other):
	_id(other._id),
	_content(other._content)
{
}

//**********************************************************************************************************************
StringId::StringId(std::string const& content):
	_id(0)
{
	_SetContent(content.c_str());
}

//**********************************************************************************************************************
StringId& StringId::operator=(StringId const& other)
{
	_id = other._id;
	_content = other._content;

	return *this;
}

//**********************************************************************************************************************
StringId& StringId::operator=(std::string const& content)
{
	_SetContent(content.c_str());

	return *this;
}

//**********************************************************************************************************************
StringId& StringId::operator=(const char* content)
{
	_SetContent(content);

	return *this;
}

//**********************************************************************************************************************
void StringId::_SetContent(const char* content)
{
	if (content != nullptr)
	{
		_content = content;
		_id = crc32OfString(content);
	}
	else
	{
		_content.clear();
		_id = 0;
	}
}

//**********************************************************************************************************************

} //namespace univubi
